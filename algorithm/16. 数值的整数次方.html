<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>16. 数值的整数次方 | Daqi's blog</title>
<Link rel="stylesheet" href="/css/md.css" />
<Link rel="stylesheet" href="/css/hl.css" />
<style>
#root { padding: 20px; } 
</style>
</head>
<body>
<div id="root">
  <div class="markdown-body">
  <h1 id="16-数值的整数次方">16. 数值的整数次方</h1>
<h2 id="来源">来源</h2>
<p><a href="https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/">https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/</a></p>
<h2 id="题目">题目</h2>
<p>实现函数 double Power(double base, int exponent)，求 base 的 exponent 次方。不得使用库函数，同时不需要考虑大数问题。</p>
<h3 id="示例">示例:</h3>
<h4 id="示例-1">示例 1.</h4>
<pre><code>输入: 2.00000, 10
输出: 1024.00000</code></pre><h4 id="示例-2">示例 2.</h4>
<pre><code>输入: 2.10000, 3
输出: 9.26100</code></pre><h4 id="示例-3">示例 3.</h4>
<pre><code>输入: 2.00000, -2
输出: 0.25000
解释: 2^-2 = 1/2 = 1/4 = 0.25</code></pre><h3 id="说明">说明</h3>
<ul>
<li>-100.0 &lt; x &lt; 100.0</li>
<li>n 是 32 位有符号整数，其数值范围是 [−231, 231 − 1] 。</li>
</ul>
<h2 id="思路-1">思路 1</h2>
<p>分治法<br>n 为偶数时 <code>Pow(x, n) = Pow(x, n / 2) * Pow(x, n / 2)</code><br>n 为奇数时 <code>Pow(x, n) = x * Pow(x, (n - 1) / 2) * Pow(x, (n - 1) / 2)</code><br>使用递归</p>
<h2 id="解题-1">解题 1</h2>
<pre><code class="language-js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">x</span></span>
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">n</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">{number}</span></span>
 */</span>
<span class="hljs-keyword">var</span> myPow = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, n</span>) </span>{
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> x;

  <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> / myPow(x, -n);
  }

  <span class="hljs-keyword">const</span> odd = n &amp; <span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> res = myPow(x, n &gt;&gt; <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> (odd ? x : <span class="hljs-number">1</span>) * res * res;
};</code></pre>
<h2 id="思路-2">思路 2</h2>
<p>同理可以使用循环实现</p>
<h2 id="解题-2">解题 2</h2>
<pre><code class="language-js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">x</span></span>
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">n</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">{number}</span></span>
 */</span>
<span class="hljs-keyword">var</span> myPow = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x, n</span>) </span>{
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> x;

  <span class="hljs-keyword">let</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> negative = n &lt; <span class="hljs-number">0</span>;

  <span class="hljs-keyword">if</span> (negative) n = -n;

  <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) {
      res *= x;
    }
    x *= x;
    n &gt;&gt;= <span class="hljs-number">1</span>;
  }

  <span class="hljs-keyword">if</span> (negative) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> / res;

  <span class="hljs-keyword">return</span> res;
};</code></pre>
<blockquote>
<p><strong>从零开始学算法</strong><br><a href="https://github.com/daqi/re0-algorithm/issues">https://github.com/daqi/re0-algorithm/issues</a><br>欢迎 start &amp; watch</p>
</blockquote>

  </div>
</div>
</body>
</html>