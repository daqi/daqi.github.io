<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>10- I. 斐波那契数列 | Daqi's blog</title>
<Link rel="stylesheet" href="/css/md.css" />
<Link rel="stylesheet" href="/css/hl.css" />
<style>
#root { padding: 20px; } 
</style>
</head>
<body>
<div id="root">
  <div class="markdown-body">
  <h1 id="10--i-斐波那契数列">10- I. 斐波那契数列</h1>
<h2 id="来源">来源</h2>
<p><a href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/">https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/</a></p>
<h2 id="题目">题目</h2>
<p>写一个函数，输入 <code>n</code> ，求斐波那契（Fibonacci）数列的第 <code>n</code> 项。斐波那契数列的定义如下：</p>
<pre><code>F(0) = 0,   F(1) = 1
F(N) = F(N - 1) + F(N - 2), 其中 N &gt; 1.</code></pre><p>斐波那契数列由 0 和 1 开始，之后的斐波那契数就是由之前的两数相加而得出。</p>
<p>答案需要取模 1e9+7（1000000007），如计算初始结果为：1000000008，请返回 1。</p>
<h3 id="示例">示例:</h3>
<h4 id="示例-1">示例 1.</h4>
<pre><code>输入：n = 2
输出：1</code></pre><h4 id="示例-2">示例 2.</h4>
<pre><code>输入：n = 5
输出：5</code></pre><h3 id="提示：">提示：</h3>
<ul>
<li>0 &lt;= n &lt;= 100</li>
</ul>
<h2 id="思路">思路</h2>
<p>斐波那契数列 <code>f(n) = f(n-1) + f(n-2)</code> 最简单的解法是</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> fib = <span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> (n &lt;= <span class="hljs-number">1</span> ? n : fib(n - <span class="hljs-number">1</span>) + fib(n - <span class="hljs-number">2</span>));</code></pre>
<pre><code>           10
          /   \
         9     8
       /  \   /  \
      8   7   7   6
     / \ / \ / \  / \
    7  8 6 5 6 5  5 4</code></pre><p>这样时间复杂度是 O(n²)，随着 n 越大递归的速度就越慢，有越来越多重复的计算。</p>
<p>我们反过来，发现规律是每行的结果，都是用之前的的两个结果相加，这样就没有重复的计算了。</p>
<pre><code>f(2) = f(1) + f(0)
f(3) = f(2) + f(1)
f(4) = f(3) + f(2)
...
f(n) = f(n-1) + f(n-2)</code></pre><pre><code>           10
          /
         9
       /  \
      8   7
     / \ / \
    7  8 6 5</code></pre><p>我们得到了时间复杂度为 O(logn) 的解法，</p>
<h2 id="解题">解题</h2>
<pre><code class="language-js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">n</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">{number}</span></span>
 */</span>
<span class="hljs-keyword">var</span> fib = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
  <span class="hljs-keyword">let</span> a = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> x = <span class="hljs-number">1000000007</span>; <span class="hljs-comment">// 题目要求</span>
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    res = a + b;
    res = res &lt;= x ? res : res % x; <span class="hljs-comment">// 题目要求</span>
    a = b;
    b = res;
  }
  <span class="hljs-keyword">return</span> res;
};</code></pre>
<h2 id="题目-2">题目 2</h2>
<h3 id="青蛙跳台阶问题">青蛙跳台阶问题</h3>
<h2 id="题目-1">题目</h2>
<p>一只青蛙一次可以跳上 1 级台阶，也可以跳上 2 级台阶。求该青蛙跳上一个 n  级的台阶总共有多少种跳法。</p>
<p>答案需要取模 1e9+7（1000000007），如计算初始结果为：1000000008，请返回 1。</p>
<h3 id="示例-3">示例:</h3>
<h4 id="示例-1-1">示例 1.</h4>
<pre><code>输入：n = 2
输出：2</code></pre><h4 id="示例-2-1">示例 2.</h4>
<pre><code>输入：n = 7
输出：21</code></pre><h3 id="提示：-1">提示：</h3>
<ul>
<li>0 &lt;= n &lt;= 100</li>
</ul>
<h3 id="思路-1">思路</h3>
<p>稍微分析一下，此题跟斐波那契数列几乎一样，除了 f(0) = 1，把上题稍微修改一下即可。</p>
<h3 id="解题-1">解题</h3>
<pre><code class="language-js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">{number}</span> <span class="hljs-variable">n</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">{number}</span></span>
 */</span>
<span class="hljs-keyword">var</span> numWays = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> b = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">let</span> x = <span class="hljs-number">1000000007</span>; <span class="hljs-comment">// 题目要求</span>
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    res = a + b;
    res = res &lt;= x ? res : res % x; <span class="hljs-comment">// 题目要求</span>
    a = b;
    b = res;
  }
  <span class="hljs-keyword">return</span> res;
};</code></pre>
<blockquote>
<p><strong>从零开始学算法</strong><br><a href="https://github.com/daqi/re0-algorithm/issues">https://github.com/daqi/re0-algorithm/issues</a><br>欢迎 start &amp; watch</p>
</blockquote>

  </div>
</div>
</body>
</html>